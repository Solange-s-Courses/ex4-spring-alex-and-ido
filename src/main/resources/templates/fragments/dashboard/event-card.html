<!-- fragments/dashboard/event-card.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<!-- Event Card Fragment -->
<div th:fragment="eventCard(event, userRole)"
     class="event-card"
     th:classappend="'status-' + ${event.status.replace(' ', '-')}">

    <!-- Delete Button (Chief only, not-active events only) -->
    <button th:if="${userRole == 'chief' and event != null and event.status == 'not-active'}"
            class="event-delete-btn"
            th:data-event-id="${event.eventId}"
            th:data-event-name="${event.eventName}"
            onclick="showDeleteModalFromData(this)">
        Ã—
    </button>

    <div class="event-card-content">
        <h3 class="event-card-title" th:text="${event.eventName}">Event Name</h3>

        <p th:if="${event.description != null and !#strings.isEmpty(event.description)}"
           class="event-card-description"
           th:text="${event.description}">Event description here</p>

        <p th:if="${event.description == null or #strings.isEmpty(event.description)}"
           class="event-card-description">No description available</p>

        <span class="event-card-status"
              th:class="'event-card-status status-' + ${event.status.replace(' ', '-')}"
              th:text="${event.displayStatus}">Status</span>

        <div class="event-card-footer">
            <span class="event-card-date"
                  th:text="${#temporals.format(event.dateOfCreation, 'MMM dd')}">Date</span>

            <!-- View Button with conditional visibility -->
            <button th:if="${(userRole == 'chief' or userRole == 'admin') or
                            (event.status == 'active' or event.status == 'equipment return')}"
                    class="event-card-action"
                    th:onclick="'window.location.href=\'/event/view/' + ${event.eventId} + '\''">
                View
            </button>
        </div>
    </div>
</div>

</body>
</html>