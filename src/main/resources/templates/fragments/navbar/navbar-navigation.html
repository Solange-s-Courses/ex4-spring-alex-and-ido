<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<!-- Desktop Navigation Fragment - With Controller-Based Active States -->
<div th:fragment="desktop-nav" class="navbar-right">
    <!-- Dashboard button -->
    <a th:href="@{/dashboard}"
       th:class="'nav-btn' + (${activeNavButton} == 'dashboard' ? ' active' : '')">Dashboard</a>

    <!-- Manage Responsibility button (only for managers) -->
    <a th:if="${session.loggedInUser != null and session.loggedInUser.role.name == 'manager' and session.userResponsibilityName != null and session.userResponsibilityId != null}"
       th:href="@{/responsibility-manage/{responsibilityId}(responsibilityId=${session.userResponsibilityId})}"
       th:class="'nav-btn' + (${activeNavButton} == 'responsibility' ? ' active' : '')">
        Manage Responsibility
    </a>

    <!-- My Items button (for users, managers, and chiefs) -->
    <a th:href="@{/user/my-items}"
       th:class="'nav-btn nav-btn-items' + (${activeNavButton} == 'myitems' ? ' active' : '')"
       th:if="${session.loggedInUser != null and (session.loggedInUser.role.name == 'user' or session.loggedInUser.role.name == 'manager' or session.loggedInUser.role.name == 'chief')}">
        My Items
    </a>

    <!-- Chief User List button (only for chief) -->
    <a th:href="@{/chief/user-list}"
       th:class="'nav-btn' + (${activeNavButton} == 'userlist' ? ' active' : '')"
       th:if="${session.loggedInUser != null and session.loggedInUser.role.name == 'chief'}">User List</a>

    <!-- Admin Page button (only for admin) -->
    <a th:href="@{/admin}"
       th:class="'nav-btn' + (${activeNavButton} == 'admin' ? ' active' : '')"
       th:if="${session.loggedInUser != null and session.loggedInUser.role.name == 'admin'}">Admin Page</a>

    <!-- User Info button -->
    <a th:href="@{/user-info}"
       th:class="'nav-btn' + (${activeNavButton} == 'userinfo' ? ' active' : '')">User Info</a>

    <!-- Logout button -->
    <a th:href="@{/logout}" class="logout-btn">Logout</a>
</div>

</html>